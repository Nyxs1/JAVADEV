/* =========================================
   LANDING PAGE ANIMATIONS
   Khusus untuk animasi di landing page
   ========================================= */

/* ============================= */
/* SMOOTH SCROLLING GLOBAL       */
/* ============================= */

html {
    scroll-behavior: smooth;
}

* {
    scroll-behavior: smooth;
}

/* ============================= */
/* PATTERN ANIMATIONS            */
/* ============================= */

@keyframes patternSway {
    0%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    25% {
        transform: translate3d(10px, -15px, 0);
    }
    50% {
        transform: translate3d(-10px, 0, 0);
    }
    75% {
        transform: translate3d(5px, 15px, 0);
    }
}

@keyframes patternVertical {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(200px);
    }
}

@keyframes patternSlowDown {
    0% {
        transform: translateY(-100px);
        opacity: 0.3;
    }
    50% {
        opacity: 0.5;
    }
    100% {
        transform: translateY(300px);
        opacity: 0.3;
    }
}

/* COURSES PATTERN FLOAT ANIMATION - ENHANCED */
@keyframes patternFloatY {
    0% {
        transform: translateY(-60px) scale(1.02) rotate(-0.5deg);
    }
    25% {
        transform: translateY(-20px) scale(1.03) rotate(0deg);
    }
    50% {
        transform: translateY(0px) scale(1.05) rotate(0.2deg);
    }
    75% {
        transform: translateY(20px) scale(1.03) rotate(0deg);
    }
    100% {
        transform: translateY(60px) scale(1.02) rotate(0.5deg);
    }
}

.animate-pattern-sway {
    animation: patternSway 8s ease-in-out infinite;
    animation-play-state: paused;
    will-change: auto;
}

.hero-loaded .animate-pattern-sway {
    animation-play-state: running;
    will-change: transform;
}

.animate-pattern-vertical {
    animation: patternVertical 20s ease-in-out infinite alternate !important;
    will-change: transform;
    transform: translateY(0) !important;
    animation-play-state: running !important;
}

/* Special animation for courses section - REMOVED CONFLICTING RULE */

/* REMOVED CONFLICTING COURSES ANIMATION - LET COURSES.CSS HANDLE IT */

/* ============================= */
/* FLOAT ANIMATION               */
/* ============================= */

@keyframes float {
    0%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(0, -20px, 0);
    }
}

.animate-float {
    animation: float 6s ease-in-out infinite;
    will-change: transform;
}

/* ============================= */
/* GLOW ANIMATIONS               */
/* ============================= */

@keyframes glowPulse {
    0%,
    100% {
        opacity: 0.3;
        transform: scale3d(1, 1, 1);
    }
    50% {
        opacity: 0.6;
        transform: scale3d(1.1, 1.1, 1);
    }
}

@keyframes glowPulseDelay {
    0%,
    100% {
        opacity: 0.2;
        transform: scale3d(1, 1, 1);
    }
    50% {
        opacity: 0.5;
        transform: scale3d(1.15, 1.15, 1);
    }
}

@keyframes glowSlow {
    0%,
    100% {
        opacity: 0.15;
        transform: translate3d(-50%, -50%, 0) scale3d(1, 1, 1) rotate(0deg);
    }
    50% {
        opacity: 0.3;
        transform: translate3d(-50%, -50%, 0) scale3d(1.2, 1.2, 1)
            rotate(180deg);
    }
}

.animate-glow-pulse {
    animation: glowPulse 8s ease-in-out infinite;
    animation-play-state: paused;
    will-change: auto;
}

.animate-glow-pulse-delay {
    animation: glowPulseDelay 10s ease-in-out infinite;
    animation-delay: 2s;
    animation-play-state: paused;
    will-change: auto;
}

.animate-glow-slow {
    animation: glowSlow 15s ease-in-out infinite;
    animation-play-state: paused;
    will-change: auto;
}

.hero-loaded .animate-glow-pulse,
.hero-loaded .animate-glow-pulse-delay,
.hero-loaded .animate-glow-slow {
    animation-play-state: running;
    will-change: opacity, transform;
}

/* ============================= */
/* PLUS SIGN ANIMATIONS          */
/* ============================= */

.plus-sign {
    position: absolute;
    width: 16px;
    height: 16px;
    animation: plusFloat 4s ease-in-out infinite;
    animation-play-state: paused;
    will-change: auto;
    transform: translate3d(0, 0, 0);
    opacity: 0.4;
}

.hero-loaded .plus-sign {
    animation-play-state: running;
    will-change: transform, opacity;
}

.plus-sign::before,
.plus-sign::after {
    content: "";
    position: absolute;
    background: white;
    border-radius: 1px;
}

.plus-sign::before {
    width: 16px;
    height: 2px;
    top: 50%;
    left: 0;
    transform: translate3d(0, -50%, 0);
}

.plus-sign::after {
    width: 2px;
    height: 16px;
    left: 50%;
    top: 0;
    transform: translate3d(-50%, 0, 0);
}

@keyframes plusFloat {
    0%,
    100% {
        transform: translate3d(0, 0, 0) rotate(0deg);
        opacity: 0.3;
    }
    50% {
        transform: translate3d(0, -12px, 0) rotate(45deg);
        opacity: 0.7;
    }
}

@keyframes plusFloatAlt {
    0%,
    100% {
        transform: translate3d(0, 0, 0) rotate(0deg);
        opacity: 0.2;
    }
    50% {
        transform: translate3d(0, -8px, 0) rotate(-45deg);
        opacity: 0.6;
    }
}

@keyframes plusFloatSlow {
    0%,
    100% {
        transform: translate3d(0, 0, 0) rotate(0deg);
        opacity: 0.4;
    }
    50% {
        transform: translate3d(0, -10px, 0) rotate(90deg);
        opacity: 0.8;
    }
}

.plus-sign:nth-child(2n) {
    animation: plusFloatAlt 5s ease-in-out infinite;
    animation-delay: 1s;
}

.plus-sign:nth-child(3n) {
    animation: plusFloatSlow 6s ease-in-out infinite;
    animation-delay: 2s;
}

.plus-sign:nth-child(4n) {
    animation-delay: 0.5s;
    animation-duration: 4.5s;
}

.plus-sign:nth-child(5n) {
    animation-delay: 1.5s;
    animation-duration: 5.5s;
}

.plus-sign:nth-child(7n) {
    width: 12px;
    height: 12px;
}

.plus-sign:nth-child(7n)::before {
    width: 12px;
}

.plus-sign:nth-child(7n)::after {
    height: 12px;
}

.plus-sign:nth-child(11n) {
    width: 20px;
    height: 20px;
}

.plus-sign:nth-child(11n)::before {
    width: 20px;
}

.plus-sign:nth-child(11n)::after {
    height: 20px;
}

.plus-sign:hover {
    opacity: 0.9;
    animation-duration: 2s;
}

/* ============================= */
/* SCROLL ANIMATIONS             */
/* ============================= */

.section-animated {
    transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1),
        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    backface-visibility: hidden;
}

.section-hidden {
    opacity: 0;
    transform: translate3d(0, 25px, 0);
}

.section-visible {
    opacity: 1;
    transform: translate3d(0, 0, 0);
}

.animate-on-scroll {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
        /* Smoother easing */ transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: opacity, transform;
    backface-visibility: hidden; /* GPU acceleration */
}

.animate-in {
    opacity: 1;
    transform: translate3d(0, 0, 0);
}

.animate-out {
    opacity: 0;
    transform: translate3d(0, -8px, 0);
    transition: opacity 0.35s cubic-bezier(0.4, 0, 1, 1),
        transform 0.35s cubic-bezier(0.4, 0, 1, 1);
}

/* Staggered delays - SMOOTH FLOW */
.animate-on-scroll:nth-child(1) {
    transition-delay: 0ms;
}
.animate-on-scroll:nth-child(2) {
    transition-delay: 100ms; /* Smoother stagger */
}
.animate-on-scroll:nth-child(3) {
    transition-delay: 200ms;
}
.animate-on-scroll:nth-child(4) {
    transition-delay: 300ms;
}
.animate-on-scroll:nth-child(5) {
    transition-delay: 400ms;
}
.animate-on-scroll:nth-child(6) {
    transition-delay: 500ms;
}
.animate-on-scroll:nth-child(7) {
    transition-delay: 600ms;
}
.animate-on-scroll:nth-child(8) {
    transition-delay: 700ms;
}

/* ============================= */
/* CARD ANIMATIONS - Moved to untuk-siapa.css */
/* ============================= */

/* ============================= */
/* ACHIEVEMENT SCROLL ANIMATION  */
/* ============================= */

@keyframes scrollLeft {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}

.achievement-gallery {
    animation: scrollLeft 60s linear infinite;
}

.achievement-gallery-container:hover .achievement-gallery {
    animation-play-state: paused;
}

/* ============================= */
/* SCROLL OPTIMIZATIONS - ONLY HERO SECTION */
/* ============================= */

/* ULTRA GENTLE scroll optimizations - ZERO PROCESSING */
.gentle-scrolling {
    /* Minimal scroll state indicator - no heavy processing */
}

/* NO transitions on decorative elements to prevent lag */
#home .plus-sign,
#home [class*="animate-glow"],
#home .animate-pattern-sway,
#home .animate-pattern-vertical,
#home .animate-float {
    transition: none !important; /* No transitions for zero lag */
}

/* Keep all animations smooth and visible during scroll */
.gentle-scrolling .animate-on-scroll {
    transition-duration: 0.6s; /* Keep smooth timing */
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

.gentle-scrolling .section-animated {
    transition-duration: 0.8s; /* Keep smooth timing */
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* SMART HERO SECTION - BEAUTIFUL ANIMATIONS WITH LAG PREVENTION */
#home {
    will-change: auto;
}

#home.hero-loaded {
    will-change: transform; /* Allow smooth animations */
}

/* SMART instant mode - only when scrolling back up */
#home.hero-instant-mode .plus-sign {
    animation-duration: 0.1s !important; /* Super fast during scroll back */
    opacity: 0.2 !important; /* Fade out during scroll back */
}

#home.hero-instant-mode [class*="animate-glow"] {
    animation-duration: 0.1s !important; /* Super fast during scroll back */
    opacity: 0.1 !important; /* Fade out during scroll back */
}

#home.hero-instant-mode .animate-pattern-sway {
    animation-play-state: paused !important; /* Pause during scroll back */
}

/* Normal beautiful animations when not in instant mode */
#home:not(.hero-instant-mode) .plus-sign {
    display: block; /* Show plus signs normally */
    animation-play-state: running; /* Normal animations */
}

#home:not(.hero-instant-mode) [class*="animate-glow"] {
    display: block; /* Show glow effects normally */
    animation-play-state: running; /* Normal animations */
}

/* Limit plus signs for better performance but keep them visible */
.plus-sign:nth-child(n + 20) {
    display: none; /* Hide excess plus signs (keep first 19) */
}

/* Show reasonable amount of plus signs when hero is loaded */
.hero-loaded .plus-sign:nth-child(-n + 19) {
    display: block;
}

/* Smooth transitions for instant mode */
#home .plus-sign,
#home [class*="animate-glow"] {
    transition: opacity 0.3s ease, animation-duration 0.2s ease;
}

/* Essential hero content always smooth */
#home .hero-content,
#home .hero-title,
#home .hero-subtitle,
#home .hero-buttons {
    will-change: auto; /* Keep content smooth */
}

/* ============================= */
/* VIEWPORT OPTIMIZATIONS        */
/* ============================= */

section:not(.in-viewport) .plus-sign,
section:not(.in-viewport) [class*="animate-glow"] {
    animation-play-state: paused !important;
}

section.in-viewport .plus-sign,
section.in-viewport [class*="animate-glow"] {
    animation-play-state: running;
}

.scrolling section:not(#home) {
    pointer-events: none;
}

.animate-on-scroll:not(.animate-in):not(.animate-out) {
    will-change: auto;
}

.animate-in,
.animate-out {
    will-change: opacity, transform;
}

/* ============================= */
/* COURSE & EVENTS SYNC FIX      */
/* ============================= */

#courses .animate-on-scroll,
#events .animate-on-scroll {
    transition-delay: 0ms !important;
}

#courses .course-header .course-title.animate-on-scroll,
#courses .course-header .course-desc.animate-on-scroll,
#events .events-header .events-title.animate-on-scroll,
#events .events-header .events-desc.animate-on-scroll {
    transform: translate3d(0, 0, 0) !important;
    opacity: 0 !important;
    transition: opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

#courses .course-header .course-title.animate-in,
#courses .course-header .course-desc.animate-in,
#events .events-header .events-title.animate-in,
#events .events-header .events-desc.animate-in {
    transform: translate3d(0, 0, 0) !important;
    opacity: 1 !important;
}

/* ============================= */
/* MOBILE OPTIMIZATIONS          */
/* ============================= */

@media (max-width: 768px) {
    .plus-sign:nth-child(n + 16) {
        display: none;
    }

    .animate-glow-slow {
        animation-duration: 20s;
    }

    .animate-pattern-sway {
        animation-duration: 12s;
    }
}

@media (max-width: 480px) {
    .plus-sign:nth-child(n + 12) {
        display: none;
    }

    .animate-glow-slow {
        display: none;
    }
}

/* ============================= */
/* REDUCED MOTION SUPPORT        */
/* ============================= */

@media (prefers-reduced-motion: reduce) {
    .plus-sign {
        display: none !important;
    }

    .animate-glow-pulse,
    .animate-glow-pulse-delay,
    .animate-glow-slow {
        display: none !important;
    }

    .animate-pattern-vertical {
        animation: none !important;
    }
}
